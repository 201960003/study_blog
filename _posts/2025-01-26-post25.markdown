---
layout: post
title:  âŒœHTMLâŒŸ ìŠ¤í‹°ì»¤ ì¶”ê°€ ë° ê·¸ë¦¼ ê·¸ë¦¬ê¸° ê¸°ëŠ¥
date:   2025-01-26 +0900
categories: HTML
---
<style>
    #drawing-canvas {
        border: 1px solid black;
        background-color: white;
        display: block;
        /* margin: 20px auto; */
    }

     /*  color-picker  */
    .color-picker {
        display: flex;
        margin-bottom: 10px;
    }

    .color-button {
        position: relative;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        margin: 5px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .color-button span {
        display: none;
        color: white;
        font-size: 20px;
    }

    .color-button.selected span {
        display: block;
    }

    .black { background-color: black; color: white; }
    .red { background-color: red; }
    .orange { background-color: orange; }
    .yellow { background-color: yellow; }
    .green { background-color: green; }
    .blue { background-color: blue; }
    .indigo { background-color: indigo; }
    .violet { background-color: violet; }


    .sticker-container {
        width: 50%;
        height: 30%
    }

    .sticker {
        width: 100px;
        height: 100px;
    }
</style>
<div class="canvas-container">
    <canvas id="background-canvas" width="500" height="500"></canvas>
    <canvas id="drawing-canvas" width="500" height="500"></canvas>
</div>

<div class="controls">
    <label for="line-width">ì„  ë‘ê»˜: </label>
    <input type="range" id="line-width" min="1" max="10" value="1">
    <button id="eraser">ì§€ìš°ê°œ ì¼œê¸°</button>
    <button id="allclear">ëª¨ë‘ ì§€ìš°ê¸°</button>
</div>
        
<div class="color-picker">
    <div class="color-button black selected" data-color="black"><span>&#10003;</span></div>
    <div class="color-button red" data-color="red"><span>&#10003;</span></div>
    <div class="color-button orange" data-color="orange"><span>&#10003;</span></div>
    <div class="color-button yellow" data-color="yellow"><span>&#10003;</span></div>
    <div class="color-button green" data-color="green"><span>&#10003;</span></div>
    <div class="color-button blue" data-color="blue"><span>&#10003;</span></div>
    <div class="color-button indigo" data-color="indigo"><span>&#10003;</span></div>
    <div class="color-button violet" data-color="violet"><span>&#10003;</span></div>
</div>

<div class=sticker-container>
    <img class="sticker" src="https://github.com/201960003/study_blog/blob/main/img/post25/four_leaf_clover.png?raw=true">
    <img class="sticker" src="https://github.com/201960003/study_blog/blob/main/img/post25/three_leaf_clover.png?raw=true">
</div>
        
<button id="save" onclick="saveCanvas()">ì €ì¥</button>

<script>
    // Canvas ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
    var stickerBoard = document.getElementById("background-canvas");
    var stickerContext = stickerBoard.getContext("2d");

    var draggedSticker = null; // í˜„ì¬ ë“œë˜ê·¸ ì¤‘ì¸ ìŠ¤í‹°ì»¤
    var offsetX = 0; // í„°ì¹˜ ë˜ëŠ” ë“œë˜ê·¸ ì‹œì‘ ì‹œ X ì˜¤í”„ì…‹
    var offsetY = 0; // í„°ì¹˜ ë˜ëŠ” ë“œë˜ê·¸ ì‹œì‘ ì‹œ Y ì˜¤í”„ì…‹

    // ìŠ¤í‹°ì»¤ í´ë¦­ ë° í„°ì¹˜ ì´ë²¤íŠ¸
    const stickers = document.querySelectorAll('.sticker');
    stickers.forEach(sticker => {
        sticker.addEventListener('mousedown', onStickerGrab);
        sticker.addEventListener('touchstart', onStickerGrab, { passive: false });
    });

    // ìº”ë²„ìŠ¤ì— ë§ˆìš°ìŠ¤ ë° í„°ì¹˜ ì´ë²¤íŠ¸ ì¶”ê°€
    stickerBoard.addEventListener('mousemove', onStickerMove);
    stickerBoard.addEventListener('mouseup', onStickerDrop);
    stickerBoard.addEventListener('mouseleave', onStickerDrop);
    stickerBoard.addEventListener('touchmove', onStickerMove, { passive: false });
    stickerBoard.addEventListener('touchend', onStickerDrop);

    // ìŠ¤í‹°ì»¤ ì¡ê¸°
    function onStickerGrab(e) {
        e.preventDefault();

        // í„°ì¹˜ ë˜ëŠ” ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ì—ì„œ ìŠ¤í‹°ì»¤ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        draggedSticker = e.target;
        const rect = draggedSticker.getBoundingClientRect();

        if (e.touches) {
            // í„°ì¹˜ ì´ë²¤íŠ¸
            offsetX = e.touches[0].clientX - rect.left;
            offsetY = e.touches[0].clientY - rect.top;
        } else {
            // ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸
            offsetX = e.clientX - rect.left;
            offsetY = e.clientY - rect.top;
        }
    }

    // ìŠ¤í‹°ì»¤ ì´ë™
    function onStickerMove(e) {
        if (!draggedSticker) return;

        e.preventDefault();
        const rect = stickerBoard.getBoundingClientRect();

        let x, y;
        if (e.touches) {
            x = e.touches[0].clientX - rect.left - offsetX;
            y = e.touches[0].clientY - rect.top - offsetY;
        } else {
            x = e.clientX - rect.left - offsetX;
            y = e.clientY - rect.top - offsetY;
        }

        // í˜„ì¬ ìœ„ì¹˜ì— ìŠ¤í‹°ì»¤ ë¯¸ë¦¬ë³´ê¸° (ì˜µì…˜)
        stickerContext.clearRect(0, 0, stickerBoard.width, stickerBoard.height);
        stickerContext.drawImage(draggedSticker, x, y, 100, 100); // í¬ê¸° ì¡°ì •
    }

    // ìŠ¤í‹°ì»¤ ë†“ê¸°
    function onStickerDrop(e) {
        if (!draggedSticker) return;

        e.preventDefault();
        const rect = stickerBoard.getBoundingClientRect();

        let x, y;
        if (e.changedTouches) {
            x = e.changedTouches[0].clientX - rect.left - offsetX;
            y = e.changedTouches[0].clientY - rect.top - offsetY;
        } else {
            x = e.clientX - rect.left - offsetX;
            y = e.clientY - rect.top - offsetY;
        }

        // ìŠ¤í‹°ì»¤ë¥¼ ìº”ë²„ìŠ¤ì— ê·¸ë¦¬ê¸°
        stickerContext.drawImage(draggedSticker, x, y, 100, 100);

        // ë“œë˜ê·¸ ìƒíƒœ ì´ˆê¸°í™”
        draggedSticker = null;
    }
</script>


<!-- <br><br> -->

### ğŸ§ ì˜¤ëŠ˜ì˜ ì†Œê°ì€?
ìµœì¢…ì ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ í”„ë¡œì íŠ¸ í´ë” ì•ˆì— public í´ë” ì•ˆì— ì§ì ‘ ì‚¬ì§„ì„ ë„£ì–´ì„œ ì‘ì—…ì„ í•œ ë¶€ë¶„ì´ ì•„ì‰½ê¸´ í•˜ì§€ë§Œ ê·¸ë˜ë„ ì´ ì½”ë“œ ì´í›„ì— í™•ì¥ì„±ì´ ì¢‹ë‹¤ê³  ìƒê°ì„ í•˜ê¸° ë–„ë¬¸ì— ì‚´ì§ ë¿Œë“¯... í•¨ì´ ìˆê¸´ í•©ë‹ˆë‹¤. ìµœê·¼ í”ŒëŸ¬í„°ë¡œ ì‘ì—…ì„ í•˜ë‹¤ê°€ ì´ë ‡ê²Œ ì›¹ìœ¼ë¥´ ì¡°ê¸ˆ ë‹¤ë£¨ë‹ˆê¹Œ ì‚´ì§ ì¬ë¯¸ìˆì–´ì§„ ê²ƒ ê°™ì•„ìš”. ìš”ì¦˜ ì•„ì§ ê°„ë‹¨í•œê²ƒë§Œ í•˜ëŠ”ë° ê·¸ë˜ë„ ì ì  ì–´ë ¤ìš´ ê²ƒë„ í•´ë‚´ëŠ” ì•„ê¸° ê°œë°œìê°€ ë˜ê³  ì‹¶ì–´ìš”!! ì—´ì‹¬íˆ ë¹ ìƒ¤ë¹ ìƒ¤

<br>