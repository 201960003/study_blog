---
layout: post
title:  âŒœHTMLâŒŸ ìŠ¤í‹°ì»¤ ì¶”ê°€ ë° ê·¸ë¦¼ ê·¸ë¦¬ê¸° ê¸°ëŠ¥
date:   2025-01-26 +0900
categories: HTML
---
<style>
    #drawing-canvas {
        border: 1px solid black;
        background-color: white;
        display: block;
    }

    .color-picker {
        display: flex;
        margin-bottom: 10px;
    }

    .color-button {
        position: relative;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        margin: 5px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .color-button span {
        display: none;
        color: white;
        font-size: 20px;
    }

    .color-button.selected span {
        display: block;
    }

    .black { background-color: black; color: white; }
    .red { background-color: red; }
    .orange { background-color: orange; }
    .yellow { background-color: yellow; }
    .green { background-color: green; }
    .blue { background-color: blue; }
    .indigo { background-color: indigo; }
    .violet { background-color: violet; }

    .sticker-container {
        width: 50%;
        height: 30%;
    }

    .sticker {
        width: 100px;
        height: 100px;
        cursor: pointer;
    }
</style>

<div class="canvas-container">
    <canvas id="drawing-canvas" width="500" height="500"></canvas>
</div>

<div class="controls">
    <label for="line-width">ì„  ë‘ê»˜: </label>
    <input type="range" id="line-width" min="1" max="10" value="1">
    <button id="eraser">ì§€ìš°ê°œ ì¼œê¸°</button>
    <button id="allclear">ëª¨ë‘ ì§€ìš°ê¸°</button>
</div>

<div class="color-picker">
    <div class="color-button black selected" data-color="black"><span>&#10003;</span></div>
    <div class="color-button red" data-color="red"><span>&#10003;</span></div>
    <div class="color-button orange" data-color="orange"><span>&#10003;</span></div>
    <div class="color-button yellow" data-color="yellow"><span>&#10003;</span></div>
    <div class="color-button green" data-color="green"><span>&#10003;</span></div>
    <div class="color-button blue" data-color="blue"><span>&#10003;</span></div>
    <div class="color-button indigo" data-color="indigo"><span>&#10003;</span></div>
    <div class="color-button violet" data-color="violet"><span>&#10003;</span></div>
</div>

<div class="sticker-container">
    <img class="sticker" src="https://github.com/201960003/study_blog/blob/main/img/post25/four_leaf_clover.png?raw=true">
    <img class="sticker" src="https://github.com/201960003/study_blog/blob/main/img/post25/three_leaf_clover.png?raw=true">
</div>

<button id="save" onclick="saveCanvas()">ì €ì¥</button>

<script>
    // ìº”ë²„ìŠ¤ ë° ì»¨í…ìŠ¤íŠ¸ ì„¤ì •
    const drawingCanvas = document.getElementById("drawing-canvas");
    const ctx = drawingCanvas.getContext("2d");

    // ê·¸ë¦¼ ê·¸ë¦¬ê¸° ê´€ë ¨ ë³€ìˆ˜
    let isDrawing = false;
    let lastX = 0;
    let lastY = 0;
    let strokeStyle = 'black';
    let lineWidth = 1;
    let isErasing = false;

    // ìŠ¤í‹°ì»¤ ê´€ë ¨ ë³€ìˆ˜
    let selectedSticker = null;

    // ë§ˆìš°ìŠ¤ ë° í„°ì¹˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    function startDrawing(e) {
        isDrawing = true;
        [lastX, lastY] = getEventPosition(e);
    }

    function draw(e) {
        if (!isDrawing) return;
        const [x, y] = getEventPosition(e);

        ctx.lineWidth = lineWidth;
        ctx.strokeStyle = isErasing ? 'white' : strokeStyle;
        ctx.lineCap = 'round';

        ctx.beginPath();
        ctx.moveTo(lastX, lastY);
        ctx.lineTo(x, y);
        ctx.stroke();

        [lastX, lastY] = [x, y];
    }

    function stopDrawing() {
        isDrawing = false;
    }

    // ì´ë²¤íŠ¸ ìœ„ì¹˜ ê³„ì‚° (ë§ˆìš°ìŠ¤ ë° í„°ì¹˜ ì§€ì›)
    function getEventPosition(e) {
        const rect = drawingCanvas.getBoundingClientRect();
        if (e.touches) {
            return [e.touches[0].clientX - rect.left, e.touches[0].clientY - rect.top];
        } else {
            return [e.offsetX, e.offsetY];
        }
    }

    // ìŠ¤í‹°ì»¤ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    document.querySelectorAll('.sticker').forEach(sticker => {
        sticker.addEventListener('click', () => {
            selectedSticker = sticker.src;
        });
    });

    // ìº”ë²„ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (ìŠ¤í‹°ì»¤ ì¶”ê°€)
    drawingCanvas.addEventListener('click', (e) => {
        if (selectedSticker) {
            const [x, y] = getEventPosition(e);
            const img = new Image();
            img.src = selectedSticker;
            img.onload = () => {
                ctx.drawImage(img, x - 50, y - 50, 100, 100); // ìŠ¤í‹°ì»¤ í¬ê¸°: 100x100
            };
        }
    });

    // ì»¨íŠ¸ë¡¤ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    document.getElementById('line-width').addEventListener('input', (e) => {
        lineWidth = e.target.value;
    });

    document.getElementById('eraser').addEventListener('click', () => {
        isErasing = !isErasing;
        document.getElementById('eraser').textContent = isErasing ? 'ì§€ìš°ê°œ ë„ê¸°' : 'ì§€ìš°ê°œ ì¼œê¸°';
    });

    document.getElementById('allclear').addEventListener('click', () => {
        ctx.clearRect(0, 0, drawingCanvas.width, drawingCanvas.height);
    });

    // ì €ì¥ ê¸°ëŠ¥
    function saveCanvas() {
        const link = document.createElement('a');
        link.href = drawingCanvas.toDataURL('image/png');
        link.download = 'drawing.png';
        link.click();
    }

    // ë“œë˜ê·¸ ì˜¤ë²„ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    function onDragOver(e) {
        e.preventDefault(); // ê¸°ë³¸ ë™ì‘ ë°©ì§€ (í•„ìˆ˜)
    }

    // ë“œë¡­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    function onDrop(e) {
        e.preventDefault(); // ê¸°ë³¸ ë™ì‘ ë°©ì§€ (í•„ìˆ˜)

        // ë“œë¡­ ìœ„ì¹˜ ê³„ì‚°
        const rect = drawingCanvas.getBoundingClientRect();
        const x = e.clientX - rect.left; // ìº”ë²„ìŠ¤ ë‚´ë¶€ X ì¢Œí‘œ
        const y = e.clientY - rect.top;  // ìº”ë²„ìŠ¤ ë‚´ë¶€ Y ì¢Œí‘œ

        // ë“œë˜ê·¸ëœ ìŠ¤í‹°ì»¤ì˜ ì´ë¯¸ì§€ ì†ŒìŠ¤ ê°€ì ¸ì˜¤ê¸°
        const stickerSrc = e.dataTransfer.getData('text/plain');

        // ìŠ¤í‹°ì»¤ë¥¼ ìº”ë²„ìŠ¤ì— ê·¸ë¦¬ê¸°
        if (stickerSrc) {
            const img = new Image();
            img.src = stickerSrc;
            img.onload = () => {
                ctx.drawImage(img, x - 50, y - 50, 100, 100); // ìŠ¤í‹°ì»¤ í¬ê¸°: 100x100
            };
        }
    }

    // ìŠ¤í‹°ì»¤ ë“œë˜ê·¸ ì‹œì‘ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    function onDragStart(e) {
        // ë“œë˜ê·¸í•  ìŠ¤í‹°ì»¤ì˜ ì´ë¯¸ì§€ ì†ŒìŠ¤ë¥¼ ì €ì¥
        e.dataTransfer.setData('text/plain', e.target.src);
    }

    // ìŠ¤í‹°ì»¤ì— ë“œë˜ê·¸ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
    document.querySelectorAll('.sticker').forEach(sticker => {
        sticker.addEventListener('dragstart', onDragStart);
    });

    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
    drawingCanvas.addEventListener('mousedown', startDrawing);
    drawingCanvas.addEventListener('mousemove', draw);
    drawingCanvas.addEventListener('mouseup', stopDrawing);
    drawingCanvas.addEventListener('mouseleave', stopDrawing);

    drawingCanvas.addEventListener('touchstart', startDrawing);
    drawingCanvas.addEventListener('touchmove', draw);
    drawingCanvas.addEventListener('touchend', stopDrawing);

    // ìº”ë²„ìŠ¤ì— ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
    drawingCanvas.addEventListener('dragover', onDragOver);
    drawingCanvas.addEventListener('drop', onDrop);
</script>

<!-- <br><br> -->

### ğŸ§ ì˜¤ëŠ˜ì˜ ì†Œê°ì€?
ìµœì¢…ì ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ í”„ë¡œì íŠ¸ í´ë” ì•ˆì— public í´ë” ì•ˆì— ì§ì ‘ ì‚¬ì§„ì„ ë„£ì–´ì„œ ì‘ì—…ì„ í•œ ë¶€ë¶„ì´ ì•„ì‰½ê¸´ í•˜ì§€ë§Œ ê·¸ë˜ë„ ì´ ì½”ë“œ ì´í›„ì— í™•ì¥ì„±ì´ ì¢‹ë‹¤ê³  ìƒê°ì„ í•˜ê¸° ë–„ë¬¸ì— ì‚´ì§ ë¿Œë“¯... í•¨ì´ ìˆê¸´ í•©ë‹ˆë‹¤. ìµœê·¼ í”ŒëŸ¬í„°ë¡œ ì‘ì—…ì„ í•˜ë‹¤ê°€ ì´ë ‡ê²Œ ì›¹ìœ¼ë¥´ ì¡°ê¸ˆ ë‹¤ë£¨ë‹ˆê¹Œ ì‚´ì§ ì¬ë¯¸ìˆì–´ì§„ ê²ƒ ê°™ì•„ìš”. ìš”ì¦˜ ì•„ì§ ê°„ë‹¨í•œê²ƒë§Œ í•˜ëŠ”ë° ê·¸ë˜ë„ ì ì  ì–´ë ¤ìš´ ê²ƒë„ í•´ë‚´ëŠ” ì•„ê¸° ê°œë°œìê°€ ë˜ê³  ì‹¶ì–´ìš”!! ì—´ì‹¬íˆ ë¹ ìƒ¤ë¹ ìƒ¤

<br>